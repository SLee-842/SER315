# Deliverable 1
**Team Name:** KoelnerDomspatzen

**Team Members:** Brynn Ayers, Nathan Jordan, Stephen Lee, Brandon Navarrete, Tamara Sopoyeva

## Team Reflection
**Current Progress:**

**Areas We Excelled:**

**Areas of Improvement:**

**Problems Faced:**

**Changes to Next Iteration:**

**Screencast URL:** [Example Hyperlink (Replace Me)](ExampleURL)

## Individual Reflection
**Name:** Brynn Ayers

**Contributions:**

**Name:** Nathan Jordan

**Contributions:** 

**Name:** Stephen Lee

**Contributions:** Created Github Repo, Issues, Project. Created deliverable template.

**Name:** Brandon Navarrete

**Contributions:** 

**Name:** Tamara Sopoyeva

**Contributions:** 

## Meeting Overview

**Meeting Summary:**

**Dates:** 

**Duration:**

**Atendees:**

## Design

**Design Principles:**

**Design Constraints:**

**Class Diagram**

**Example diagram generated by ChatGPT. Replace with diagram agreed upon by group**
```mermaid
classDiagram
  direction LR

  %% ========= Core Users =========
  class User {
    <<abstract>>
    +id: UUID
    +name: String
    +email: String
  }

  class Racer {
    +currentCat: Category
    +hasValidLicense(on: Date): bool
  }

  class Organizer {
  }

  class Administrator {
  }

  User <|-- Racer
  User <|-- Organizer
  User <|-- Administrator

  %% ========= Licensing & Categories =========
  class License {
    +licenseId: String
    +validFrom: Date
    +validTo: Date  %% 1 year validity
    +categoryAtIssue: Category
    +isValid(on: Date): bool
  }

  class Category {
    <<enumeration>>
    CAT5
    CAT4
    CAT3
    CAT2
    CAT1
  }

  Racer "1" o-- "0..1" License : holds >
  Racer --> Category : current >

  %% ========= Races & Stages =========
  class Race {
    +raceId: UUID
    +name: String
    +date: Date
    +type: RaceType
    +miles: float
    +route: String
    +participantLimit: int
    +registrationDeadline: Date
    +official: bool
    +offersCategories: Set<Category>
  }

  class RaceType {
    <<enumeration>>
    ROAD
    CRITERIUM
    TIME_TRIAL
    GRAVEL
  }

  class Stage {
    +stageId: UUID
    +name: String
    +distanceMiles: float
    +sequence: int
  }

  Race "1" *-- "1..*" Stage : contains >

  %% ========= Registration =========
  class Registration {
    +registrationId: UUID
    +createdAt: DateTime
    +status: RegStatus
  }

  class RegStatus {
    <<enumeration>>
    PENDING
    CONFIRMED
    CANCELLED
  }

  Racer "1" -- "0..*" Registration : makes >
  Race  "1" -- "0..*" Registration : receives >

  %% ========= Results & Upgrades =========
  class Result {
    +resultId: UUID
    +position: int   %% 1=gold, 2=silver, 3=bronze
    +timeSec: int
    +podium(): bool
  }

  Stage "1" -- "0..*" Result : has >
  Racer "1" -- "0..*" Result : earns >

  class UpgradePolicy {
    <<service>>
    +shouldUpgrade(r: Racer): bool  %% e.g., >=5 podiums
    +applyUpgrade(r: Racer): void
  }

  UpgradePolicy ..> Result : counts podiums >
  UpgradePolicy ..> Racer : updates category >

  %% ========= Reviews & Notifications =========
  class Review {
    +reviewId: UUID
    +rating: int  %% 1..5
    +comment: String
    +createdAt: DateTime
  }

  Racer "1" -- "0..*" Review : writes >
  Race  "1" -- "0..*" Review : receives >

  class Notification {
    +notificationId: UUID
    +message: String
    +sentAt: DateTime
  }

  Notification ..> Racer : "upgrade notice

```

**Use-Case Diagram**

**Example diagram generated by ChatGPT. Replace with diagram agreed upon by group**
```mermaid
flowchart LR
  %% ===== Actors =====
  Racer[User: Racer]
  Organizer[User: Organizer]
  Admin[User: Administrator]

  %% ===== System Boundary =====
  subgraph BRS[Bike Racing Registration System]
    %% Racer use cases
    UC_SignUp([Sign up / Provide name & card])
    UC_BuyLicense([Purchase annual license])
    UC_RegisterOfficial([Register for official race])
    UC_RegisterUnofficial([Register for unofficial race])
    UC_ViewResults([View race history & results])
    UC_ReviewRace([Review race])

    %% Organizer use cases
    UC_CreateRace([Create race])
    UC_ManageStages([Manage stages])
    UC_SetLimits([Set registration limits & last day])
    UC_PublishRace([Publish race])
    UC_EnterResults([Enter race results])

    %% Admin use cases
    UC_ManageUsers([Manage user accounts])
    UC_ManageLicenses([Manage licenses])
    UC_SystemSettings([Manage system settings])

    %% System/internal use cases
    UC_VerifyLicense([Verify valid license & category])
    UC_EvaluateUpgrade([Evaluate category upgrade])
    UC_NotifyUpgrade([Notify racer of category upgrade])
  end

  %% ===== Associations (actors to use cases) =====
  Racer --- UC_SignUp
  Racer --- UC_BuyLicense
  Racer --- UC_RegisterOfficial
  Racer --- UC_RegisterUnofficial
  Racer --- UC_ViewResults
  Racer --- UC_ReviewRace

  Organizer --- UC_CreateRace
  Organizer --- UC_ManageStages
  Organizer --- UC_SetLimits
  Organizer --- UC_PublishRace
  Organizer --- UC_EnterResults

  Admin --- UC_ManageUsers
  Admin --- UC_ManageLicenses
  Admin --- UC_SystemSettings

  %% ===== Include / Extend and internal flows =====
  UC_RegisterOfficial -. "<<include>>\nVerify license & category" .-> UC_VerifyLicense
  UC_CreateRace -. "<<include>>" .-> UC_ManageStages
  UC_CreateRace -. "<<include>>" .-> UC_SetLimits
  UC_CreateRace -. "<<extend>>\nPublish when ready" .-> UC_PublishRace

  %% Results drive upgrades
  UC_EnterResults -. "<<include>>\nCheck podiums" .-> UC_EvaluateUpgrade
  UC_EvaluateUpgrade -. "<<include>>\nNotify racer" .-> UC_NotifyUpgrade

  %% Optional: unofficial races don't require licenses
  UC_RegisterUnofficial -. "<<extend>>\nMay skip license" .-> UC_VerifyLicense
```
  
## Review Section
N/A
